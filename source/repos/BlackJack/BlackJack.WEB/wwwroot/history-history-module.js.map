{"version":3,"sources":["webpack:///./src/app/history/history-routing.module.ts","webpack:///./src/app/history/history.component.html","webpack:///./src/app/history/history.component.scss","webpack:///./src/app/history/history.component.ts","webpack:///./src/app/history/history.module.ts","webpack:///./src/app/history/pages/games-page/games-page.component.html","webpack:///./src/app/history/pages/games-page/games-page.component.scss","webpack:///./src/app/history/pages/games-page/games-page.component.ts","webpack:///./src/app/shared/services/history.service.ts"],"names":[],"mappings":"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","file":"history-history-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HistoryComponent } from './history.component';\nconst routes: Routes = [\n  { path: '', component: HistoryComponent},\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HistoryRoutingModule { }\n","module.exports = \"<app-games-page></app-games-page>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hpc3RvcnkvaGlzdG9yeS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.component.html',\n  styleUrls: ['./history.component.scss']\n})\nexport class HistoryComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule, Pipe } from '@angular/core';\nimport { CommonModule, DecimalPipe } from '@angular/common';\n\nimport { HistoryRoutingModule } from './history-routing.module';\nimport { UserGamesComponent } from './pages/games-page/games-page.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { HistoryComponent } from './history.component';\n\n@NgModule({\n  declarations: [UserGamesComponent, HistoryComponent],\n  imports: [\n    CommonModule,\n    HistoryRoutingModule,\n    SharedModule,\n  ], \n  providers: [DecimalPipe]\n})\nexport class HistoryModule { }\n","module.exports = \"<h2> History of user games</h2>\\r\\n<form>\\r\\n  <div class=\\\"form-group form-inline\\\">\\r\\n    History search: <input class=\\\"form-control ml-2\\\" type=\\\"text\\\" [formControl]=\\\"filter\\\" />\\r\\n  </div>\\r\\n</form>\\r\\n<div class=\\\"tableFixHead\\\">\\r\\n  <div [hidden]=\\\"!showMainTable\\\">\\r\\n    <table>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th scope=\\\"col\\\" *ngFor=\\\"let head of headElements\\\">{{head}}</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let x of games | async\\\">\\r\\n          <td>\\r\\n            <ngb-highlight [result]=\\\"x.numberOfBots | number\\\" [term]=\\\"filter.value\\\"></ngb-highlight>\\r\\n          </td>\\r\\n          <td>\\r\\n            <ngb-highlight [result]=\\\"x.status\\\" [term]=\\\"filter.value\\\"></ngb-highlight>\\r\\n          </td>\\r\\n          <td>\\r\\n            <ngb-highlight [result]=\\\"x.winner\\\" [term]=\\\"filter.value\\\"></ngb-highlight>\\r\\n          </td>\\r\\n          <td>\\r\\n            <button class=\\\"btn btn-info\\\" (click)=\\\"bot(x)\\\">\\r\\n              <i class=\\\"fas fa-robot\\\"></i>\\r\\n            </button>\\r\\n            <button class=\\\"btn btn-success\\\" (click)=\\\"player(x)\\\">\\r\\n              <i class=\\\"fas fa-user\\\"></i>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n    <ngb-pagination [collectionSize]=\\\"listCount | async\\\" [(page)]=\\\"page\\\" [pageSize]=\\\"pageSize\\\" [rotate]=\\\"true\\\" [boundaryLinks]=\\\"true\\\"></ngb-pagination>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"showPlayerTable\\\">\\r\\n    <table class=\\\"table\\\">\\r\\n      <thead class=\\\"thead-dark\\\">\\r\\n        <tr>\\r\\n          <th *ngFor=\\\"let head of headPlayerSteps\\\">{{head}}</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <td>{{(playerSteps | async)?.name}}</td>\\r\\n        <td colspan=\\\"\\\" *ngFor=\\\"let d of (playerSteps | async)?.steps\\\">\\r\\n          <img src=\\\"../../../assets/cards/{{d.rank}}_{{d.suit}}.svg\\\">\\r\\n        </td>\\r\\n      </tbody>\\r\\n    </table>\\r\\n    <button class=\\\"btn btn-danger\\\" (click)=\\\"hideTable()\\\">\\r\\n      <i class=\\\"fa fa-arrow-left\\\"></i>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"showBotTable\\\">\\r\\n    <table class=\\\"table\\\">\\r\\n      <thead class=\\\"thead-dark\\\">\\r\\n        <tr>\\r\\n          <th *ngFor=\\\"let head of headBots\\\">{{head}}</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let e of (botSteps | async)?.bots\\\">\\r\\n          <td>{{e.name}}</td>\\r\\n          <td *ngFor=\\\"let q of e.steps\\\">\\r\\n            <img src=\\\"../../../assets/cards/{{q.rank}}_{{q.suit}}.svg\\\">\\r\\n          </td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n    <button class=\\\"btn btn-danger\\\" (click)=\\\"hideTable()\\\">\\r\\n      <i class=\\\"fa fa-arrow-left\\\"></i>\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"table {\\n  border-collapse: collapse;\\n  width: 100%;\\n  text-align: center; }\\n\\nth, td {\\n  padding: 0.5%; }\\n\\nimg {\\n  width: 78px; }\\n\\nth {\\n  background: #343a40;\\n  color: white; }\\n\\n::ng-deep .page-item.active .page-link {\\n  color: #fff;\\n  background-color: #343a40;\\n  border-color: #474c52; }\\n\\n::ng-deep .page-link {\\n  color: #343a40; }\\n\\n::ng-deep .page-link:hover {\\n  color: #6b7075; }\\n\\n::ng-deep .pagination > li > a:focus,\\n.pagination > li > a:hover,\\n.pagination > li > span:focus,\\n.pagination > li > span:hover {\\n  box-shadow: 0 0 0 0.2rem rgba(62, 63, 65, 0.25);\\n  color: #343a40;\\n  border-color: #ddd; }\\n\\n@media (min-width: 560px) {\\n  .tableFixHead {\\n    overflow-y: auto;\\n    height: 34rem;\\n    width: auto;\\n    font-size: 1rem; }\\n  .tableFixHead th {\\n    position: -webkit-sticky;\\n    position: sticky;\\n    top: 0;\\n    border-top: 0px; }\\n  img {\\n    width: 78px; }\\n  .btn-info {\\n    margin-right: 1%;\\n    padding: 7px 17px; }\\n  .btn-success {\\n    padding: 7px 17px; } }\\n\\n@media (max-width: 411px) {\\n  .tableFixHead {\\n    overflow-y: auto;\\n    height: 25rem;\\n    width: auto;\\n    font-size: 0.8rem; }\\n  .tableFixHead th {\\n    position: -webkit-sticky;\\n    position: sticky;\\n    top: 0;\\n    border-top: 0px; }\\n  img {\\n    width: 59px; }\\n  .btn-info {\\n    margin-right: 1%;\\n    padding: 7px; }\\n  .btn-success {\\n    padding: 7px; } }\\n\\n@media (max-width: 360px) {\\n  .tableFixHead {\\n    overflow-y: auto;\\n    height: 25rem;\\n    width: auto;\\n    font-size: 0.7rem; }\\n  .tableFixHead th {\\n    position: -webkit-sticky;\\n    position: sticky;\\n    top: 0;\\n    border-top: 0px; }\\n  img {\\n    width: 52px; }\\n  .btn-info {\\n    margin-right: 1%;\\n    padding: 3px; }\\n  .btn-success {\\n    padding: 3px; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaGlzdG9yeS9wYWdlcy9nYW1lcy1wYWdlL0M6XFxVc2Vyc1xcQW51aXRleC04NFxcZ2l0XFxXZWJcXHNvdXJjZVxccmVwb3NcXEJsYWNrSmFja1xcQmxhY2tKYWNrLldFQlxcQ2xpZW50QXBwL3NyY1xcYXBwXFxoaXN0b3J5XFxwYWdlc1xcZ2FtZXMtcGFnZVxcZ2FtZXMtcGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gsa0JBQWlCLEVBQUE7O0FBRXJCO0VBQ0ssYUFBYSxFQUFBOztBQUVsQjtFQUNHLFdBQVcsRUFBQTs7QUFFZDtFQUNJLG1CQUFrQjtFQUNsQixZQUF5QixFQUFBOztBQUU3QjtFQUNHLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIscUJBQXFCLEVBQUE7O0FBRXhCO0VBQ0ksY0FBYyxFQUFBOztBQUVsQjtFQUNHLGNBQWMsRUFBQTs7QUFFakI7Ozs7RUFJRywrQ0FBK0M7RUFDL0MsY0FBYztFQUNkLGtCQUFrQixFQUFBOztBQUdyQjtFQUNHO0lBQ0ksZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixXQUFXO0lBQ1gsZUFBZSxFQUFBO0VBRW5CO0lBQ0ksd0JBQWdCO0lBQWhCLGdCQUFnQjtJQUNoQixNQUFNO0lBQ04sZUFBYyxFQUFBO0VBRWhCO0lBQ0ksV0FBVyxFQUFBO0VBRWY7SUFDRSxnQkFBZ0I7SUFDaEIsaUJBQWlCLEVBQUE7RUFFckI7SUFDSSxpQkFBaUIsRUFBQSxFQUNwQjs7QUFFSjtFQUNHO0lBQ0ksZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixXQUFXO0lBQ1gsaUJBQWlCLEVBQUE7RUFFckI7SUFDSSx3QkFBZ0I7SUFBaEIsZ0JBQWdCO0lBQ2hCLE1BQU07SUFDTixlQUFjLEVBQUE7RUFFakI7SUFDQSxXQUFXLEVBQUE7RUFFWjtJQUNJLGdCQUFnQjtJQUNoQixZQUFZLEVBQUE7RUFFaEI7SUFDSSxZQUFZLEVBQUEsRUFDZjs7QUFFSjtFQUNHO0lBQ0ksZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixXQUFXO0lBQ1gsaUJBQWlCLEVBQUE7RUFFckI7SUFDSSx3QkFBZ0I7SUFBaEIsZ0JBQWdCO0lBQ2hCLE1BQU07SUFDTixlQUFjLEVBQUE7RUFFakI7SUFDQSxXQUFXLEVBQUE7RUFFWjtJQUNJLGdCQUFnQjtJQUNoQixZQUFZLEVBQUE7RUFFaEI7SUFDSSxZQUFZLEVBQUEsRUFDZiIsImZpbGUiOiJzcmMvYXBwL2hpc3RvcnkvcGFnZXMvZ2FtZXMtcGFnZS9nYW1lcy1wYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUgIHsgXHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBcclxuICAgIHdpZHRoOiAxMDAlOyBcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG59XHJcbnRoLCB0ZCB7XHJcbiAgICAgcGFkZGluZzogMC41JTtcclxufVxyXG5pbWd7XHJcbiAgIHdpZHRoOiA3OHB4O1xyXG59XHJcbnRoIHsgXHJcbiAgICBiYWNrZ3JvdW5kOiMzNDNhNDA7IFxyXG4gICAgY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTsgXHJcbn1cclxuOjpuZy1kZWVwIC5wYWdlLWl0ZW0uYWN0aXZlIC5wYWdlLWxpbmsge1xyXG4gICBjb2xvcjogI2ZmZjtcclxuICAgYmFja2dyb3VuZC1jb2xvcjogIzM0M2E0MDtcclxuICAgYm9yZGVyLWNvbG9yOiAjNDc0YzUyOztcclxufVxyXG46Om5nLWRlZXAgLnBhZ2UtbGlua3tcclxuICAgIGNvbG9yOiAjMzQzYTQwO1xyXG4gICB9XHJcbjo6bmctZGVlcCAgLnBhZ2UtbGluazpob3ZlcnsgXHJcbiAgIGNvbG9yOiAjNmI3MDc1O1xyXG59XHJcbjo6bmctZGVlcCAucGFnaW5hdGlvbiA+IGxpID4gYTpmb2N1cyxcclxuLnBhZ2luYXRpb24gPiBsaSA+IGE6aG92ZXIsXHJcbi5wYWdpbmF0aW9uID4gbGkgPiBzcGFuOmZvY3VzLFxyXG4ucGFnaW5hdGlvbiA+IGxpID4gc3Bhbjpob3ZlcntcclxuICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoNjIsIDYzLCA2NSwgMC4yNSk7XHJcbiAgIGNvbG9yOiAjMzQzYTQwO1xyXG4gICBib3JkZXItY29sb3I6ICNkZGQ7XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA1NjBweCkge1xyXG4gICAudGFibGVGaXhIZWFkIHsgXHJcbiAgICAgICBvdmVyZmxvdy15OiBhdXRvOyBcclxuICAgICAgIGhlaWdodDogMzRyZW07XHJcbiAgICAgICB3aWR0aDogYXV0bztcclxuICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgfVxyXG4gICAudGFibGVGaXhIZWFkIHRoIHsgXHJcbiAgICAgICBwb3NpdGlvbjogc3RpY2t5OyBcclxuICAgICAgIHRvcDogMDsgXHJcbiAgICAgICBib3JkZXItdG9wOjBweDtcclxuICAgfVxyXG4gICAgIGltZ3tcclxuICAgICAgICAgd2lkdGg6IDc4cHg7XHJcbiAgICAgfVxyXG4gICAgIC5idG4taW5mbyB7XHJcbiAgICAgICBtYXJnaW4tcmlnaHQ6IDElO1xyXG4gICAgICAgcGFkZGluZzogN3B4IDE3cHg7XHJcbiAgIH1cclxuICAgLmJ0bi1zdWNjZXNzIHtcclxuICAgICAgIHBhZGRpbmc6IDdweCAxN3B4O1xyXG4gICB9XHJcbiB9XHJcbkBtZWRpYSAobWF4LXdpZHRoOiA0MTFweCkge1xyXG4gICAudGFibGVGaXhIZWFkICAgIHsgXHJcbiAgICAgICBvdmVyZmxvdy15OiBhdXRvOyBcclxuICAgICAgIGhlaWdodDogMjVyZW07XHJcbiAgICAgICB3aWR0aDogYXV0bztcclxuICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gICB9XHJcbiAgIC50YWJsZUZpeEhlYWQgdGggeyBcclxuICAgICAgIHBvc2l0aW9uOiBzdGlja3k7IFxyXG4gICAgICAgdG9wOiAwOyBcclxuICAgICAgIGJvcmRlci10b3A6MHB4O1xyXG4gICB9XHJcbiAgICBpbWd7XHJcbiAgICB3aWR0aDogNTlweDtcclxuICAgfVxyXG4gICAuYnRuLWluZm8ge1xyXG4gICAgICAgbWFyZ2luLXJpZ2h0OiAxJTtcclxuICAgICAgIHBhZGRpbmc6IDdweDtcclxuICAgfVxyXG4gICAuYnRuLXN1Y2Nlc3Mge1xyXG4gICAgICAgcGFkZGluZzogN3B4O1xyXG4gICB9XHJcbn0gXHJcbkBtZWRpYSAobWF4LXdpZHRoOiAzNjBweCkge1xyXG4gICAudGFibGVGaXhIZWFkICAgIHsgXHJcbiAgICAgICBvdmVyZmxvdy15OiBhdXRvOyBcclxuICAgICAgIGhlaWdodDogMjVyZW07XHJcbiAgICAgICB3aWR0aDogYXV0bztcclxuICAgICAgIGZvbnQtc2l6ZTogMC43cmVtO1xyXG4gICB9XHJcbiAgIC50YWJsZUZpeEhlYWQgdGggeyBcclxuICAgICAgIHBvc2l0aW9uOiBzdGlja3k7IFxyXG4gICAgICAgdG9wOiAwOyBcclxuICAgICAgIGJvcmRlci10b3A6MHB4O1xyXG4gICB9XHJcbiAgICBpbWd7XHJcbiAgICB3aWR0aDogNTJweDtcclxuICAgfVxyXG4gICAuYnRuLWluZm8ge1xyXG4gICAgICAgbWFyZ2luLXJpZ2h0OiAxJTtcclxuICAgICAgIHBhZGRpbmc6IDNweDtcclxuICAgfVxyXG4gICAuYnRuLXN1Y2Nlc3Mge1xyXG4gICAgICAgcGFkZGluZzogM3B4O1xyXG4gICB9XHJcbn0gIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Status } from 'src/app/shared/enums/status-type.enum.view';\r\nimport { GameGetAllGamesHistoryView, GetAllGamesHistoryView } from 'src/app/shared/entities/history/get-all-games-history.view';\r\nimport { GetPlayerStepsHistoryView } from 'src/app/shared/entities/history/get-player-steps-history.view';\r\nimport { GetBotStepsHistoryView } from 'src/app/shared/entities/history/get-bot-steps-history.view';\r\nimport { HistoryService } from 'src/app/shared/services/history.service';\r\nimport { PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { FormControl } from '@angular/forms';\r\nimport { Observable, BehaviorSubject, Subject, of, interval, ReplaySubject } from 'rxjs';\r\nimport { map, startWith, takeUntil } from 'rxjs/operators';\r\nimport { TableStateHistoryView } from 'src/app/shared/entities/history/table-state-history.view';\r\n@Component({\r\n  selector: 'app-games-page',\r\n  templateUrl: './games-page.component.html',\r\n  styleUrls: ['./games-page.component.scss'],\r\n  providers: [DecimalPipe]\r\n})\r\n\r\nexport class UserGamesComponent implements OnInit {\r\n  private tableState: TableStateHistoryView = {page: 1, pageSize: 8};\r\n  private showPlayerTable = false;\r\n  private showBotTable = false;\r\n  private showMainTable = true;\r\n  private statusEnum: Status;\r\n  private searchOnTable = new Subject<void>();\r\n  private componetDestroyed: Subject<boolean> = new Subject<boolean>();\r\n  private playerStepsSubject = new ReplaySubject<GetPlayerStepsHistoryView>(1);\r\n  private botStepsSubject = new ReplaySubject<GetBotStepsHistoryView>(1);\r\n  private games: Observable<GameGetAllGamesHistoryView[]>;\r\n  private playerSteps: Observable<GetPlayerStepsHistoryView> = this.playerStepsSubject.asObservable();\r\n  private botSteps: Observable<GetBotStepsHistoryView> = this.botStepsSubject.asObservable();\r\n  private getAllGamesHistory: GetAllGamesHistoryView;\r\n  private listCount = new BehaviorSubject<number>(0);\r\n  private headBotSteps = ['Cards', '', '', ''];\r\n  private headBots = ['Bot name', 'Steps', '', '', '', ''];\r\n  private headPlayerSteps = ['Player name', 'Player steps', '', '', '', ''];\r\n  private headElements = ['Number of bots', 'Status', 'Winner', 'Steps of Bots and players'];\r\n  private filter = new FormControl('');\r\n\r\n  private get page() { return this.tableState.page; }\r\n  private get pageSize() { return this.tableState.pageSize; }\r\n  private set page(page: number) { this.pagination({ page }); }\r\n  private set pageSize(pageSize: number) { this.pagination({ pageSize }); }\r\n\r\n  constructor(private historyService: HistoryService, private pipe: DecimalPipe) {\r\n  }\r\n  ngOnInit() {\r\n    this.initTable();\r\n  }\r\n  private initTable():void{\r\n    this.historyService.getGamesByUser()\r\n    .pipe(takeUntil(this.componetDestroyed))\r\n    .subscribe((x:GetAllGamesHistoryView) => {\r\n      x.games.forEach(x => {\r\n        x.status = Status[x.status];\r\n      });\r\n      this.getAllGamesHistory = x;\r\n      this.games = this.filterOfTable();\r\n    }); \r\n  }\r\n  private filterOfTable():Observable<GameGetAllGamesHistoryView[]>{\r\n    return this.filter.valueChanges.pipe(\r\n      startWith(''),\r\n      map(text => this.search(text, this.pipe))\r\n    );\r\n  }\r\n  private search(text: string, pipe: PipeTransform): GameGetAllGamesHistoryView[] {\r\n    let result = this.getAllGamesHistory.games.filter(x => {\r\n      const term = text.toLowerCase();\r\n      return x.status.toLowerCase().includes(term)\r\n        || pipe.transform(x.numberOfBots).includes(term)\r\n        || x.winner.toLowerCase().includes(term);\r\n    });\r\n    this.listCount = new BehaviorSubject<number>(result.length);\r\n    let response = result.slice((this.page - 1) * this.pageSize, (this.page - 1) * this.pageSize + this.pageSize);\r\n    return response;\r\n  }\r\n  private pagination(patch: Partial<TableStateHistoryView>) {\r\n    Object.assign(this.tableState, patch);\r\n    this.searchOnTable.next();\r\n    this.games = this.filterOfTable();\r\n  }\r\n  private bot(id):void {\r\n    this.historyService.getBotSteps(id)\r\n    .pipe(takeUntil(this.componetDestroyed))\r\n    .subscribe(x => {\r\n      this.botStepsSubject.next(x);\r\n    });\r\n    this.showBotTable = true;\r\n    this.showPlayerTable = false;\r\n    this.showMainTable = false;\r\n  }\r\n  private player(id):void {\r\n   this.historyService.getPlayerSteps(id)\r\n   .pipe(takeUntil(this.componetDestroyed))\r\n   .subscribe(x => {\r\n    this.playerStepsSubject.next(x);\r\n    });\r\n    this.showPlayerTable = true;\r\n    this.showBotTable = false;\r\n    this.showMainTable = false;\r\n  }\r\n  private hideTable():void {\r\n    this.showPlayerTable = false;\r\n    this.showBotTable = false;\r\n    this.showMainTable = true;\r\n    this.botStepsSubject.next(null);\r\n    this.playerStepsSubject.next(null);\r\n  }\r\n  ngOnDestroy() {\r\n    this.componetDestroyed.next(true);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../../environments/environment';\r\nimport { GetAllGamesHistoryView } from '../entities/history/get-all-games-history.view';\r\nimport { GetPlayerStepsHistoryView } from '../entities/history/get-player-steps-history.view';\r\nimport { GetBotStepsHistoryView } from '../entities/history/get-bot-steps-history.view';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HistoryService {\r\n  baseUrl: string = '';\r\n  constructor(private http: HttpClient) {\r\n    this.baseUrl = environment.baseUrl;\r\n   }\r\n   getGamesByUser():Observable<GetAllGamesHistoryView>{\r\n     return this.http.get<GetAllGamesHistoryView>(this.baseUrl + \"/history/allUserGames\");\r\n   }\r\n   getPlayerSteps(x): Observable<GetPlayerStepsHistoryView> {\r\n    let params = new HttpParams().set(\"gameId\",x.id); \r\n    return this.http.get<GetPlayerStepsHistoryView>(this.baseUrl + \"/history/playerSteps\", { params:params });\r\n   }\r\n   getBotSteps(x): Observable<GetBotStepsHistoryView>{\r\n    let params = new HttpParams().set(\"gameId\",x.id); \r\n    return this.http.get<GetBotStepsHistoryView>(this.baseUrl + \"/history/botSteps\", { params:params });\r\n   }\r\n}\r\n"],"sourceRoot":""}